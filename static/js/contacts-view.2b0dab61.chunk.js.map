{"version":3,"file":"static/js/contacts-view.2b0dab61.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","components/Form/Form.jsx","webpack://react-homework-template/./src/components/Filter/Filter.module.css?fad1","components/Filter/Filter.jsx","webpack://react-homework-template/./src/components/ContactList/ContactList.module.css?1ce0","webpack://react-homework-template/./src/components/ContactsItem/ContactsItem.module.css?8722","components/ContactsItem/ContactsItem.jsx","components/ContactList/ContactList.jsx","pages/ContactsView/ContactsView.jsx","webpack://react-homework-template/./src/components/Form/Form.module.css?89ba"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"Loader_loader__+lRPl\"};","import { Oval } from 'react-loader-spinner';\nimport style from './Loader.module.css';\n\nexport const LoaderMini = () => {\n  return (\n    <div className={style.loader}>\n      <Oval\n        ariaLabel=\"loading-indicator\"\n        height={18}\n        width={18}\n        strokeWidth={5}\n        color=\" #2196f3\"\n        secondaryColor=\"#fff\"\n      />\n    </div>\n  );\n};\n\nexport const Loader = () => {\n  return (\n    <div className={style.loader}>\n      <Oval\n        ariaLabel=\"loading-indicator\"\n        height={40}\n        width={40}\n        strokeWidth={5}\n        color=\" #fff\"\n        secondaryColor=\"#2196f3\"\n      />\n    </div>\n  );\n};\n","import { useState } from 'react';\nimport style from './Form.module.css';\nimport { contactsSlice } from '../../redux/contacts';\nimport { Loader } from 'components/Loader/Loader';\n\nfunction Form() {\n  const [createContact, { isLoading }] =\n    contactsSlice.useCreateContactMutation();\n  const { data: contacts } = contactsSlice.useFetchContactsQuery();\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n\n  // берем данные value каждого input\n  const handleChange = evt => {\n    const { name, value } = evt.currentTarget;\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n      case 'number':\n        setNumber(value);\n        break;\n      default:\n        break;\n    }\n  };\n\n  const handleSubmit = async e => {\n    const contact = { name, number };\n    e.preventDefault();\n    const normalzeName = contact.name.toLocaleLowerCase();\n    if (contacts.find(item => item.name.toLocaleLowerCase() === normalzeName)) {\n      return alert(`${contact.name} is already in contacts`);\n    }\n    await createContact(contact);\n    reset();\n  };\n\n  const reset = () => {\n    setName('');\n    setNumber('');\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <label className={style.label}>\n        <span>Name</span>\n        <input\n          type=\"text\"\n          name=\"name\"\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n          required\n          value={name}\n          onChange={handleChange}\n          className={style.input}\n        />\n      </label>\n      <label className={style.label}>\n        <span>Number</span>\n        <input\n          type=\"tel\"\n          name=\"number\"\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\n          required\n          value={number}\n          onChange={handleChange}\n          className={style.input}\n        />\n      </label>\n      <div className={style.buttonDiv}>\n        <button type=\"submit\" className={style.button}>\n          {isLoading ? <Loader /> : <div> Add contact</div>}\n        </button>\n      </div>\n    </form>\n  );\n}\n// Form.propTypes = {\n//   onSubmit: PropTypes.func.isRequired,\n// };\nexport default Form;\n","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"Filter_label__vEd1E\",\"input\":\"Filter_input__N7T3z\"};","import React from 'react';\nimport style from './Filter.module.css';\n// import PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { filterSlice } from '../../redux/contacts';\n\nconst Filter = () => {\n  const dispatch = useDispatch();\n  const value = useSelector(filterSlice.getFilter);\n\n  const changeFilter = e => {\n    dispatch(filterSlice.filterItems(e.currentTarget.value));\n  };\n\n  return (\n    <label className={style.label}>\n      <span>Find contacts by name</span>\n      <input\n        type=\"text\"\n        value={value}\n        onChange={changeFilter}\n        className={style.input}\n      />\n    </label>\n  );\n};\n\nexport default Filter;\n\n// Filter.propTypes = {\n//   value: PropTypes.string.isRequired,\n//   onChange: PropTypes.func.isRequired,\n// };\n","// extracted by mini-css-extract-plugin\nexport default {\"contacts\":\"ContactList_contacts__jDmyV\"};","// extracted by mini-css-extract-plugin\nexport default {\"contact\":\"ContactsItem_contact__3h39i\",\"name\":\"ContactsItem_name__woMRI\",\"number\":\"ContactsItem_number__hMcY4\",\"button\":\"ContactsItem_button__uPo7U\"};","import style from './ContactsItem.module.css';\nimport PropTypes from 'prop-types';\n\nimport { contactsSlice } from '../../redux/contacts';\nimport { LoaderMini } from 'components/Loader/Loader';\nexport const ContactsItem = ({ contact }) => {\n  const [deleteTodo, { isLoading: isDeleting }] =\n    contactsSlice.useDeleteContactMutation();\n\n  return (\n    <li className={style.contact}>\n      <p className={style.name}>{contact.name} :</p>\n      <p className={style.number}>{contact.number}</p>\n\n      <button\n        className={style.button}\n        type=\"button\"\n        onClick={() => deleteTodo(contact.id)}\n        disabled={isDeleting}\n      >\n        {isDeleting ? <LoaderMini /> : <span>Delete</span>}\n      </button>\n    </li>\n  );\n};\n\nContactsItem.propTypes = {\n  contact: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    number: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n  }),\n};\n","import React from 'react';\nimport style from './ContactList.module.css';\nimport { Loader } from '../Loader/Loader';\nimport { useSelector } from 'react-redux';\nimport { filterSlice, contactsSlice } from '../../redux/contacts';\nimport { ContactsItem } from '../ContactsItem/ContactsItem';\n\nconst ContactList = () => {\n  const { data: contacts, isLoading: loadingList } =\n    contactsSlice.useFetchContactsQuery();\n  const filterValue = useSelector(filterSlice.getFilter);\n\n  // console.log(contacts.length);\n\n  const getContactsFilter = () => {\n    const normalizedFilter = filterValue.toLocaleLowerCase();\n    return (\n      contacts &&\n      contacts.filter(contact =>\n        contact.name.toLocaleLowerCase().includes(normalizedFilter)\n      )\n    );\n  };\n  const contactsFilter = getContactsFilter();\n\n  return (\n    <div>\n      {loadingList && <Loader />}\n      {contacts && (\n        <ol className={style.contacts}>\n          {contactsFilter.map(contact => (\n            <ContactsItem key={contact.id} contact={contact} />\n          ))}\n        </ol>\n      )}\n    </div>\n  );\n};\n\nexport default ContactList;\n","import Form from '../../components/Form';\nimport Filter from '../../components/Filter';\nimport ContactList from '../../components/ContactList';\nconst ContactsView = () => {\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Form />\n      <h2>Contacts</h2>\n      <Filter />\n      <ContactList />\n    </div>\n  );\n};\n\nexport default ContactsView;\n","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"Form_label__8nx+5\",\"button\":\"Form_button__8NOIT\",\"buttonDiv\":\"Form_buttonDiv__Hu9Rs\",\"input\":\"Form_input__FTtTw\"};"],"names":["LoaderMini","className","style","ariaLabel","height","width","strokeWidth","color","secondaryColor","Loader","contactsSlice","useCreateContactMutation","createContact","isLoading","contacts","useFetchContactsQuery","data","useState","name","setName","number","setNumber","handleChange","evt","currentTarget","value","handleSubmit","e","contact","preventDefault","normalzeName","toLocaleLowerCase","find","item","alert","reset","onSubmit","type","pattern","title","required","onChange","dispatch","useDispatch","useSelector","filterSlice","getFilter","filterItems","ContactsItem","useDeleteContactMutation","deleteTodo","isDeleting","onClick","id","disabled","loadingList","filterValue","contactsFilter","normalizedFilter","filter","includes","getContactsFilter","map"],"sourceRoot":""}